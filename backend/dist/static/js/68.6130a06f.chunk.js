(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{1328:function(e,t,a){"use strict";a.r(t);var n=a(95),r=a(96),s=a(98),o=a(97),i=a(99),c=a(101),m=a(1),l=a.n(m),u=a(102),d=a(375),p=a(252),h=a(318),E=(Object(u.a)(),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(o.a)(t).call(this,e))).toggle=a.toggle.bind(Object(c.a)(Object(c.a)(a))),a.toggleFade=a.toggleFade.bind(Object(c.a)(Object(c.a)(a))),a.getInspectors=a.getInspectors.bind(Object(c.a)(Object(c.a)(a))),a.getClients=a.getClients.bind(Object(c.a)(Object(c.a)(a))),a.getJobInfo=a.getJobInfo.bind(Object(c.a)(Object(c.a)(a))),a.post=a.post.bind(Object(c.a)(Object(c.a)(a))),a.state={collapse:!0,fadeIn:!0,timeout:300,projectName:"",recievedDate:"",scheduledDate:"",homeownerName:"",homeownerNumber:"",appointmetPerson:"",billingName:"",siteName:"",siteNumber:"",inspectionDate:"",actionLevel:"",cost:"",clientName:"",phone:"",address:"",comments:"",dbClients:[],inspectors:[]},a}return Object(i.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.getClients(),this.getInspectors(),e&&this.getJobInfo(e)}},{key:"toggle",value:function(){this.setState({collapse:!this.state.collapse})}},{key:"post",value:function(){var e=this.props.match.params.id;e?(console.log("CALLED UPDATE"),h.post("/api/jobs/update",{id:e,name:this.state.name,clientId:this.state.clientName,recievedDate:this.state.recievedDate,scheduledDate:this.state.scheduledDate,inspectionDate:this.state.inspectionDate,homeownerName:this.state.homeownerName,homeownerNumber:this.state.homeownerNumber,address:this.state.address,siteName:this.state.siteName,siteNumber:this.state.siteNumber,appointmetPerson:this.state.appointmetPerson,billingName:this.state.billingName,inspectorId:this.state.inspectorId,comments:this.state.comments,actionLevel:this.state.actionLevel,cost:this.state.cost}).then(function(e){console.log(e),alert("sucessfully updated Job!"),this.props.history.push("/dashboard")}).catch(function(e){console.log(e)})):h.post("/api/jobs/new",{name:this.state.name,clientId:this.state.clientName,recievedDate:this.state.recievedDate,scheduledDate:this.state.scheduledDate,inspectionDate:this.state.inspectionDate,homeownerName:this.state.homeownerName,homeownerNumber:this.state.homeownerNumber,address:this.state.address,siteName:this.state.siteName,siteNumber:this.state.siteNumber,appointmetPerson:this.state.appointmetPerson,billingName:this.state.billingName,inspectorId:this.state.inspectorId,comments:this.state.comments,actionLevel:this.state.actionLevel,cost:this.state.cost}).then(function(e){console.log(e),alert("sucessfully added new Job!"),this.props.history.push("/dashboard")}).catch(function(e){console.log(e)})}},{key:"getClients",value:function(){var e=this;h.get("/api/clients/all").then(function(t){e.setState({dbClients:t.data})})}},{key:"getInspectors",value:function(){var e=this;h.get("/api/jobs/inspectors").then(function(t){console.log("INS",t),e.setState({inspectors:t.data})})}},{key:"getJobInfo",value:function(){var e=this;h({url:"/api/jobs/get",method:"post",data:{id:this.props.match.params.id}}).then(function(t){e.setState({name:t.data[0].name}),e.setState({clientId:t.data[0].clientId}),e.setState({recievedDate:t.data[0].recievedDate}),e.setState({scheduledDate:t.data[0].scheduledDate}),e.setState({inspectionDate:t.data[0].inspectionDate}),e.setState({homeownerName:t.data[0].homeownerName}),e.setState({homeownerNumber:t.data[0].homeownerNumber}),e.setState({address:t.data[0].address}),e.setState({siteName:t.data[0].siteName}),e.setState({siteNumber:t.data[0].siteNumber}),e.setState({appointmetPerson:t.data[0].appointmetPerson}),e.setState({billingName:t.data[0].billingName}),e.setState({inspectorId:t.data[0].inspector}),e.setState({actionLevel:t.data[0].actionLevel}),e.setState({comments:t.data[0].comments}),e.setState({cost:t.data[0].cost}),console.log("job",e.state.jobInfo)})}},{key:"toggleFade",value:function(){this.setState(function(e){return{fadeIn:!e}})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"animated fadeIn"},l.a.createElement(p.hb,null,l.a.createElement(p.t,{xs:"12",md:"12"},l.a.createElement(p.i,null,l.a.createElement(p.n,null,l.a.createElement("strong",null,"Basic Form")," Elements"),l.a.createElement(p.j,null,l.a.createElement(p.C,{action:"",method:"post",encType:"multipart/form-data",className:"form-horizontal"},l.a.createElement(p.E,{row:!0},l.a.createElement(p.t,{md:"3"},l.a.createElement(p.L,{htmlFor:"text-input"},"Job Name")),l.a.createElement(p.t,{xs:"12",md:"9"},l.a.createElement(p.G,{type:"text",id:"text-input",name:"text-input",value:this.state.name,onChange:function(t){return e.setState({name:t.target.value})}}))),l.a.createElement(p.E,{row:!0},l.a.createElement(p.t,{md:"3"},l.a.createElement(p.L,{htmlFor:"select"},"Client")),l.a.createElement(p.t,{xs:"12",md:"9"},l.a.createElement(p.G,{type:"select",name:"select",id:"select",onChange:function(t){return e.setState({clientName:t.target.value})}},l.a.createElement("option",{value:"0"},"Please select client"),this.state.dbClients.map(function(t){return t.id==e.state.clientId?l.a.createElement("option",{value:t.id,selected:"selected"},t.name):l.a.createElement("option",{value:t.id},t.name)})))),l.a.createElement(p.E,{row:!0},l.a.createElement(p.t,{md:"3"},l.a.createElement(p.L,{htmlFor:"date-input"},"Date Recieved")),l.a.createElement(p.t,{xs:"12",md:"9"},l.a.createElement(p.G,{type:"date",id:"date-input",name:"date-input",value:this.state.recievedDate,placeholder:"date",onChange:function(t){return e.setState({recievedDate:t.target.value})}}))),l.a.createElement(p.E,{row:!0},l.a.createElement(p.t,{md:"3"},l.a.createElement(p.L,{htmlFor:"date-input"},"Date Scheduled")),l.a.createElement(p.t,{xs:"12",md:"9"},l.a.createElement(p.G,{type:"date",id:"date-input",name:"date-input",value:this.state.scheduledDate,placeholder:"date",onChange:function(t){return e.setState({scheduledDate:t.target.value})}}))),l.a.createElement(p.E,{row:!0},l.a.createElement(p.t,{md:"3"},l.a.createElement(p.L,{htmlFor:"date-input"},"Inspection Date")),l.a.createElement(p.t,{xs:"12",md:"9"},l.a.createElement(p.G,{type:"date",id:"date-input",name:"date-input",placeholder:"date",value:this.state.inspectionDate,onChange:function(t){return e.setState({inspectionDate:t.target.value})}}))),l.a.createElement(p.E,{row:!0},l.a.createElement(p.t,{md:"3"},l.a.createElement(p.L,{htmlFor:"text-input"},"Homeowner Name")),l.a.createElement(p.t,{xs:"12",md:"9"},l.a.createElement(p.G,{type:"text",id:"text-input",name:"text-input",value:this.state.homeownerName,onChange:function(t){return e.setState({homeownerName:t.target.value})}}))),l.a.createElement(p.E,{row:!0},l.a.createElement(p.t,{md:"3"},l.a.createElement(p.L,{htmlFor:"text-input"},"Homeowner Number")),l.a.createElement(p.t,{xs:"12",md:"9"},l.a.createElement(p.G,{type:"text",id:"text-input",name:"text-input",value:this.state.homeownerNumber,onChange:function(t){return e.setState({homeownerNumber:t.target.value})}}))),l.a.createElement(p.E,{row:!0},l.a.createElement(p.t,{md:"3"},l.a.createElement(p.L,{htmlFor:"text-input"},"Inspection Address")),l.a.createElement(p.t,{xs:"12",md:"9"},l.a.createElement(p.G,{type:"text",id:"text-input",name:"text-input",value:this.state.address,onChange:function(t){return e.setState({address:t.target.value})}}))),l.a.createElement(p.E,{row:!0},l.a.createElement(p.t,{md:"3"},l.a.createElement(p.L,{htmlFor:"text-input"},"Site Contact Name")),l.a.createElement(p.t,{xs:"12",md:"9"},l.a.createElement(p.G,{type:"text",id:"text-input",name:"text-input",value:this.state.siteName,onChange:function(t){return e.setState({siteName:t.target.value})}}))),l.a.createElement(p.E,{row:!0},l.a.createElement(p.t,{md:"3"},l.a.createElement(p.L,{htmlFor:"text-input"},"Site Contact Number")),l.a.createElement(p.t,{xs:"12",md:"9"},l.a.createElement(p.G,{type:"phone",id:"text-input",name:"text-input",value:this.state.siteNumber,onChange:function(t){return e.setState({siteNumber:t.target.value})}}))),l.a.createElement(p.E,{row:!0},l.a.createElement(p.t,{md:"3"},l.a.createElement(p.L,{htmlFor:"text-input"},"Name of Person who set Appointmet")),l.a.createElement(p.t,{xs:"12",md:"9"},l.a.createElement(p.G,{type:"text",id:"text-input",name:"text-input",value:this.state.appointmetPerson,onChange:function(t){return e.setState({appointmetPerson:t.target.value})}}))),l.a.createElement(p.E,{row:!0},l.a.createElement(p.t,{md:"3"},l.a.createElement(p.L,{htmlFor:"text-input"},"Billing Name")),l.a.createElement(p.t,{xs:"12",md:"9"},l.a.createElement(p.G,{type:"text",id:"text-input",name:"text-input",value:this.state.billingName,onChange:function(t){return e.setState({billingName:t.target.value})}}))),l.a.createElement(p.E,{row:!0},l.a.createElement(p.t,{md:"3"},l.a.createElement(p.L,{htmlFor:"select"},"Inspector")),l.a.createElement(p.t,{xs:"12",md:"9"},l.a.createElement(p.G,{type:"select",name:"select",id:"select",onChange:function(t){return e.setState({inspectorId:t.target.value})}},l.a.createElement("option",{value:"0"},"Please select an Inspector"),this.state.inspectors.map(function(t){return t.id==e.state.inspectorId?l.a.createElement("option",{value:t.id,selected:"selected"},t.name):l.a.createElement("option",{value:t.id},t.name)})))),l.a.createElement(p.E,{row:!0},l.a.createElement(p.t,{md:"3"},l.a.createElement(p.L,{htmlFor:"textarea-input"},"Comments/Notes")),l.a.createElement(p.t,{xs:"12",md:"9"},l.a.createElement(p.G,{type:"textarea",name:"textarea-input",id:"textarea-input",rows:"9",placeholder:"Content...",value:this.state.comments,onChange:function(t){return e.setState({comments:t.target.value})}}))),l.a.createElement(p.E,{row:!0},l.a.createElement(p.t,{md:"3"},l.a.createElement(p.L,{htmlFor:"text-input"},"Lead Action Level")),l.a.createElement(p.t,{xs:"12",md:"9"},l.a.createElement(p.G,{type:"text",id:"text-input",name:"text-input",value:this.state.actionLevel,onChange:function(t){return e.setState({actionLevel:t.target.value})}}))),l.a.createElement(p.E,{row:!0},l.a.createElement(p.t,{md:"3"},l.a.createElement(p.L,{htmlFor:"text-input"},"Cost")),l.a.createElement(p.t,{xs:"12",md:"9"},l.a.createElement(p.G,{type:"number",id:"text-input",name:"text-input",value:this.state.cost,onChange:function(t){return e.setState({cost:t.target.value})}}))))),l.a.createElement(p.l,null,l.a.createElement(p.e,{onClick:function(){return e.post()},type:"submit",size:"sm",color:"primary"},l.a.createElement("i",{className:"fa fa-dot-circle-o"})," Submit"))))))}}]),t}(m.Component));t.default=Object(d.a)(E)},275:function(e,t,a){"use strict";var n={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s=Object.defineProperty,o=Object.getOwnPropertyNames,i=Object.getOwnPropertySymbols,c=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,l=m&&m(Object);e.exports=function e(t,a,u){if("string"!==typeof a){if(l){var d=m(a);d&&d!==l&&e(t,d,u)}var p=o(a);i&&(p=p.concat(i(a)));for(var h=0;h<p.length;++h){var E=p[h];if(!n[E]&&!r[E]&&(!u||!u[E])){var g=c(a,E);try{s(t,E,g)}catch(v){}}}return t}return t}},375:function(e,t,a){"use strict";var n=a(1),r=a.n(n),s=a(0),o=a.n(s),i=a(275),c=a.n(i),m=a(103),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};var u=function(e){var t=function(t){var a=t.wrappedComponentRef,n=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(t,["wrappedComponentRef"]);return r.a.createElement(m.a,{children:function(t){return r.a.createElement(e,l({},n,t,{ref:a}))}})};return t.displayName="withRouter("+(e.displayName||e.name)+")",t.WrappedComponent=e,t.propTypes={wrappedComponentRef:o.a.func},c()(t,e)};t.a=u}}]);
//# sourceMappingURL=68.6130a06f.chunk.js.map