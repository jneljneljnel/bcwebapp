(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{1410:function(e,t,a){"use strict";a.r(t);var n=a(95),s=a(96),r=a(98),o=a(97),l=a(99),m=a(101),i=a(1),c=a.n(i),d=a(1314),u=a.n(d),h=a(102),p=a(1360),E=a(906),g=a(252),b=a(338),v=(Object(h.a)(),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).toggle=a.toggle.bind(Object(m.a)(Object(m.a)(a))),a.toggleFade=a.toggleFade.bind(Object(m.a)(Object(m.a)(a))),a.getInspectors=a.getInspectors.bind(Object(m.a)(Object(m.a)(a))),a.getClients=a.getClients.bind(Object(m.a)(Object(m.a)(a))),a.getJobInfo=a.getJobInfo.bind(Object(m.a)(Object(m.a)(a))),a.post=a.post.bind(Object(m.a)(Object(m.a)(a))),a.sortStates=a.sortStates.bind(Object(m.a)(Object(m.a)(a))),a.matchStateToTerm=a.matchStateToTerm.bind(Object(m.a)(Object(m.a)(a))),a.state={collapse:!0,fadeIn:!0,timeout:300,projectName:"",recievedDate:"",scheduledDate:"",homeownerName:"",homeownerNumber:"",appointmetPerson:"",billingName:"",siteName:"",siteNumber:"",inspectionDate:"",actionLevel:"",cost:"",clientName:"",phone:"",address:"",street:"",city:"",state:"",county:"",postal:"",comments:"",sqft:"",numbeds:"",numbaths:"",early:0,dogs:0,goodogs:"",dbClients:[],inspectors:[],value:"",type:0},a}return Object(l.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.getClients(),this.getInspectors(),e&&this.getJobInfo(e)}},{key:"matchStateToTerm",value:function(e,t){if(e&&t)return-1!==e.name.toLowerCase().indexOf(t.toLowerCase())}},{key:"sortStates",value:function(e,t,a){var n=e.name.toLowerCase(),s=t.name.toLowerCase(),r=a.toLowerCase(),o=n.indexOf(r),l=s.indexOf(r);return o!==l?o-l:n<s?-1:1}},{key:"toggle",value:function(){this.setState({collapse:!this.state.collapse})}},{key:"post",value:function(){var e=this.props.match.params.id;e?(console.log("CALLED UPDATE"),b.post("/api/jobs/update",{id:e,name:this.state.name,clientId:this.state.clientId,recievedDate:this.state.recievedDate,scheduledDate:this.state.scheduledDate,inspectionDate:this.state.inspectionDate,homeownerName:this.state.homeownerName,homeownerNumber:this.state.homeownerNumber,address:this.state.address,street:this.state.street,city:this.state.city,state:this.state.state,county:this.state.county,postal:this.state.postal,siteName:this.state.siteName,siteNumber:this.state.siteNumber,appointmetPerson:this.state.appointmetPerson,billingName:this.state.billingName,inspectorId:this.state.inspectorId,comments:this.state.comments,actionLevel:this.state.actionLevel,type:this.state.type,cost:this.state.cost,numbeds:this.state.numbeds,numbaths:this.state.numbaths,sqft:this.state.sqft,early:this.state.early,dogs:this.state.dogs,gooddogs:this.state.gooddogs}).then(function(e){console.log(e),alert("sucessfully updated Job!")}).catch(function(e){console.log(e)}),this.props.history.push("/dashboard")):(b.post("/api/jobs/new",{name:this.state.name,clientId:this.state.clientId,recievedDate:this.state.recievedDate,scheduledDate:this.state.scheduledDate,inspectionDate:this.state.inspectionDate,homeownerName:this.state.homeownerName,homeownerNumber:this.state.homeownerNumber,address:this.state.address,street:this.state.street,city:this.state.city,state:this.state.state,county:this.state.county,postal:this.state.postal,siteName:this.state.siteName,siteNumber:this.state.siteNumber,appointmetPerson:this.state.appointmetPerson,billingName:this.state.billingName,inspectorId:this.state.inspectorId,comments:this.state.comments,actionLevel:this.state.actionLevel,type:this.state.type,cost:this.state.cost,numbeds:this.state.numbeds,numbaths:this.state.numbaths,sqft:this.state.sqft,early:this.state.early,dogs:this.state.dogs,gooddogs:this.state.gooddogs}).then(function(e){console.log(e),alert("sucessfully added new Job!")}).catch(function(e){console.log(e)}),this.props.history.push("/dashboard"))}},{key:"getClients",value:function(){var e=this;b.get("/api/clients/all").then(function(t){e.setState({dbClients:t.data})})}},{key:"getInspectors",value:function(){var e=this;b.get("/api/jobs/inspectors").then(function(t){console.log("INS",t),e.setState({inspectors:t.data})})}},{key:"getJobInfo",value:function(){var e=this;b({url:"/api/jobs/get",method:"post",data:{id:this.props.match.params.id}}).then(function(t){e.setState({name:t.data[0].name}),e.setState({clientId:t.data[0].clientId}),e.setState({recievedDate:t.data[0].recievedDate}),e.setState({scheduledDate:t.data[0].scheduledDate}),e.setState({inspectionDate:t.data[0].inspectionDate}),e.setState({homeownerName:t.data[0].homeownerName}),e.setState({homeownerNumber:t.data[0].homeownerNumber}),e.setState({address:t.data[0].address}),e.setState({street:t.data[0].street}),e.setState({city:t.data[0].city}),e.setState({state:t.data[0].state}),e.setState({county:t.data[0].county}),e.setState({postal:t.data[0].postal}),e.setState({siteName:t.data[0].siteName}),e.setState({siteNumber:t.data[0].siteNumber}),e.setState({appointmetPerson:t.data[0].appointmetPerson}),e.setState({billingName:t.data[0].billingName}),e.setState({inspectorId:t.data[0].inspector}),e.setState({actionLevel:t.data[0].actionLevel}),e.setState({type:t.data[0].type}),e.setState({comments:t.data[0].comments}),e.setState({cost:t.data[0].cost}),e.setState({numbaths:t.data[0].numbaths}),e.setState({numbeds:t.data[0].numbeds}),e.setState({sqft:t.data[0].sqft}),e.setState({early:t.data[0].early}),e.setState({dogs:t.data[0].dogs}),e.setState({gooddogs:t.data[0].gooddogs}),console.log("res",t.data[0]),console.log("job",e.state.jobInfo)})}},{key:"toggleFade",value:function(){this.setState(function(e){return{fadeIn:!e}})}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"animated fadeIn"},c.a.createElement(g.ib,null,c.a.createElement(g.t,{xs:"12",md:"12"},c.a.createElement(g.i,null,c.a.createElement(g.n,null,c.a.createElement("strong",null,"Basic Form")," Elements"),c.a.createElement(g.j,null,c.a.createElement(g.C,{action:"",method:"post",encType:"multipart/form-data",className:"form-horizontal"},c.a.createElement(g.E,{row:!0},c.a.createElement(g.t,{md:"3"},c.a.createElement(g.L,{htmlFor:"text-input"},"Job Name")),c.a.createElement(g.t,{xs:"12",md:"9"},c.a.createElement(g.G,{type:"text",id:"text-input",name:"text-input",value:this.state.name,onChange:function(t){return e.setState({name:t.target.value})}}))),c.a.createElement(g.E,{row:!0,style:{zIndex:"100"}},c.a.createElement(g.t,{md:"3"},c.a.createElement(g.L,{htmlFor:"select"},"Client")),c.a.createElement(g.t,{xs:"12",md:"9"},c.a.createElement(u.a,{getItemValue:function(e){return e.name},items:this.state.dbClients,shouldItemRender:this.matchStateToTerm,sortItems:this.sortStates,renderItem:function(e,t){return c.a.createElement("div",{style:{background:t?"lightgray":"white"}},e.name)},value:this.state.clientName,onChange:function(t,a){e.setState({clientName:a})},onSelect:function(t,a){e.setState({clientName:t,clientId:a.id})}}))),c.a.createElement(g.E,{row:!0},c.a.createElement(g.t,{md:"3"},c.a.createElement(g.L,{htmlFor:"date-input"},"Date Recieved")),c.a.createElement(g.t,{xs:"12",md:"9"},c.a.createElement(g.G,{type:"date",id:"date-input",name:"date-input",value:this.state.recievedDate,placeholder:"date",onChange:function(t){return e.setState({recievedDate:t.target.value})}}))),c.a.createElement(g.E,{row:!0},c.a.createElement(g.t,{md:"3"},c.a.createElement(g.L,{htmlFor:"date-input"},"Date Scheduled")),c.a.createElement(g.t,{xs:"12",md:"9"},c.a.createElement(g.G,{type:"date",id:"date-input",name:"date-input",value:this.state.scheduledDate,placeholder:"date",onChange:function(t){return e.setState({scheduledDate:t.target.value})}}))),c.a.createElement(g.E,{row:!0},c.a.createElement(g.t,{md:"3"},c.a.createElement(g.L,{htmlFor:"date-input"},"Inspection Date")),c.a.createElement(g.t,{xs:"12",md:"9"},c.a.createElement(g.G,{type:"date",id:"date-input",name:"date-input",placeholder:"date",value:this.state.inspectionDate,onChange:function(t){return e.setState({inspectionDate:t.target.value})}}))),c.a.createElement(g.E,{row:!0},c.a.createElement(g.t,{md:"3"},c.a.createElement(g.L,{htmlFor:"text-input"},"Homeowner Name")),c.a.createElement(g.t,{xs:"12",md:"9"},c.a.createElement(g.G,{type:"text",id:"text-input",name:"text-input",value:this.state.homeownerName,onChange:function(t){return e.setState({homeownerName:t.target.value})}}))),c.a.createElement(g.E,{row:!0},c.a.createElement(g.t,{md:"3"},c.a.createElement(g.L,null,"Homeowner Number")),c.a.createElement(g.t,{xs:"12",md:"9"},c.a.createElement(g.H,null,c.a.createElement(g.I,{addonType:"prepend"},c.a.createElement(g.J,null,c.a.createElement("i",{className:"fa fa-phone"}))),c.a.createElement(E.b,{value:this.state.homeownerNumber,onChange:function(t){return e.setState({homeownerNumber:t.target.value})},mask:["(",/[1-9]/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/],Component:E.a,className:"form-control"})))),c.a.createElement(g.E,null,c.a.createElement(g.L,{htmlFor:"street"},"Street"),c.a.createElement(g.G,{type:"text",id:"street",value:this.state.street,onChange:function(t){return e.setState({street:t.target.value})}})),c.a.createElement(g.E,{row:!0,className:"my-0"},c.a.createElement(g.t,{xs:"3"},c.a.createElement(g.E,null,c.a.createElement(g.L,{htmlFor:"city"},"City"),c.a.createElement(g.G,{type:"text",id:"city",value:this.state.city,onChange:function(t){return e.setState({city:t.target.value})}}))),c.a.createElement(g.t,{xs:"3"},c.a.createElement(g.E,null,c.a.createElement(g.L,{htmlFor:"state"},"State"),c.a.createElement(g.G,{type:"text",id:"state",value:this.state.state,onChange:function(t){return e.setState({state:t.target.value})}}))),c.a.createElement(g.t,{xs:"3"},c.a.createElement(g.E,null,c.a.createElement(g.L,{htmlFor:"state"},"County"),c.a.createElement(g.G,{type:"text",id:"state",value:this.state.county,onChange:function(t){return e.setState({county:t.target.value})}}))),c.a.createElement(g.t,{xs:"3"},c.a.createElement(g.E,null,c.a.createElement(g.L,{htmlFor:"postal-code"},"Postal Code"),c.a.createElement(g.G,{type:"text",id:"postal-code",value:this.state.postal,onChange:function(t){return e.setState({postal:t.target.value})}})))),c.a.createElement(g.E,{row:!0},c.a.createElement(g.t,{md:"3"},c.a.createElement(g.L,{htmlFor:"text-input"},"Site Contact Name")),c.a.createElement(g.t,{xs:"12",md:"9"},c.a.createElement(g.G,{type:"text",id:"text-input",name:"text-input",value:this.state.siteName,onChange:function(t){return e.setState({siteName:t.target.value})}}))),c.a.createElement(g.E,{row:!0},c.a.createElement(g.t,{md:"3"},c.a.createElement(g.L,null,"Site Contact Number")),c.a.createElement(g.t,{xs:"12",md:"9"},c.a.createElement(g.H,null,c.a.createElement(g.I,{addonType:"prepend"},c.a.createElement(g.J,null,c.a.createElement("i",{className:"fa fa-phone"}))),c.a.createElement(E.b,{value:this.state.siteNumber,onChange:function(t){return e.setState({siteNumber:t.target.value})},mask:["(",/[1-9]/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/],Component:E.a,className:"form-control"})))),c.a.createElement(g.E,{row:!0},c.a.createElement(g.t,{md:"3"},c.a.createElement(g.L,{htmlFor:"text-input"},"Name of Person who set Appointmet")),c.a.createElement(g.t,{xs:"12",md:"9"},c.a.createElement(g.G,{type:"text",id:"text-input",name:"text-input",value:this.state.appointmetPerson,onChange:function(t){return e.setState({appointmetPerson:t.target.value})}}))),c.a.createElement(g.E,{row:!0},c.a.createElement(g.t,{md:"3"},c.a.createElement(g.L,{htmlFor:"text-input"},"Billing Name")),c.a.createElement(g.t,{xs:"12",md:"9"},c.a.createElement(g.G,{type:"text",id:"text-input",name:"text-input",value:this.state.billingName,onChange:function(t){return e.setState({billingName:t.target.value})}}))),c.a.createElement(g.E,{row:!0},c.a.createElement(g.t,{md:"3"},c.a.createElement(g.L,{htmlFor:"select"},"Inspector")),c.a.createElement(g.t,{xs:"12",md:"9"},c.a.createElement(g.G,{type:"select",name:"select",id:"select",onChange:function(t){return e.setState({inspectorId:t.target.value})}},c.a.createElement("option",{value:"0"},"Please select an Inspector"),this.state.inspectors.map(function(t){return t.id==e.state.inspectorId?c.a.createElement("option",{value:t.id,selected:"selected"},t.name):c.a.createElement("option",{value:t.id},t.name)})))),c.a.createElement(g.E,{row:!0},c.a.createElement(g.t,{md:"3"},c.a.createElement(g.L,{htmlFor:"textarea-input"},"Comments/Notes")),c.a.createElement(g.t,{xs:"12",md:"9"},c.a.createElement(g.G,{type:"textarea",name:"textarea-input",id:"textarea-input",rows:"9",placeholder:"Content...",value:this.state.comments,onChange:function(t){return e.setState({comments:t.target.value})}}))),c.a.createElement(g.E,{row:!0},c.a.createElement(g.t,{md:"3"},c.a.createElement(g.L,{htmlFor:"text-input"},"Lead Action Level")),c.a.createElement(g.t,{xs:"12",md:"9"},c.a.createElement(g.G,{type:"text",id:"text-input",name:"text-input",value:this.state.actionLevel,onChange:function(t){return e.setState({actionLevel:t.target.value})}}))),c.a.createElement(g.E,{row:!0},c.a.createElement(g.t,{md:"3"},c.a.createElement(g.L,{htmlFor:"select"},"Inspection Type")),c.a.createElement(g.t,{xs:"12",md:"9"},c.a.createElement(g.G,{id:"type",value:this.state.type,onChange:function(t){e.setState({type:t.target.value})},type:"select",name:"type"},c.a.createElement("option",{value:"0"},"Please select"),c.a.createElement("option",{value:"1"},"Limited"),c.a.createElement("option",{value:"2"},"Comprehensive"),c.a.createElement("option",{value:"3"},"Windows and Doors")))),c.a.createElement(g.E,{row:!0},c.a.createElement(g.t,{md:"3"},c.a.createElement(g.L,{htmlFor:"text-input"},"Cost")),c.a.createElement(g.t,{xs:"12",md:"9"},c.a.createElement(g.G,{type:"number",id:"text-input",name:"text-input",value:this.state.cost,onChange:function(t){return e.setState({cost:t.target.value})}}))),c.a.createElement(g.E,{row:!0},c.a.createElement(g.t,{md:"3"},c.a.createElement(g.L,{htmlFor:"text-input"},"Number of Beds")),c.a.createElement(g.t,{xs:"12",md:"9"},c.a.createElement(g.G,{type:"text",id:"text-input",name:"text-input",value:this.state.numbeds,onChange:function(t){return e.setState({numbeds:t.target.value})}}))),c.a.createElement(g.E,{row:!0},c.a.createElement(g.t,{md:"3"},c.a.createElement(g.L,{htmlFor:"text-input"},"Number of Baths")),c.a.createElement(g.t,{xs:"12",md:"9"},c.a.createElement(g.G,{type:"text",id:"text-input",name:"text-input",value:this.state.numbaths,onChange:function(t){return e.setState({numbaths:t.target.value})}}))),c.a.createElement(g.E,{row:!0},c.a.createElement(g.t,{md:"3"},c.a.createElement(g.L,{htmlFor:"text-input"},"Square Footage ")),c.a.createElement(g.t,{xs:"12",md:"9"},c.a.createElement(g.G,{type:"text",id:"text-input",name:"text-input",value:this.state.sqft,onChange:function(t){return e.setState({sqft:t.target.value})}}))),c.a.createElement(g.E,{row:!0},c.a.createElement(g.t,{md:"3"},c.a.createElement(g.L,{htmlFor:"text-input"},"Arrive early?")),c.a.createElement(g.t,{xs:"12",md:"9"},c.a.createElement(g.G,{type:"checkbox",id:"text-input",name:"text-input",checked:this.state.early,onChange:function(t){return e.setState({early:t.target.checked?1:0})}}))),c.a.createElement(g.E,{row:!0},c.a.createElement(g.t,{md:"3"},c.a.createElement(g.L,{htmlFor:"text-input"},"Are dogs present?")),c.a.createElement(g.t,{xs:"12",md:"9"},c.a.createElement(g.G,{type:"checkbox",id:"text-input",name:"text-input",checked:this.state.dogs,onChange:function(t){return e.setState({dogs:t.target.checked?1:0})}}))),c.a.createElement(g.E,{row:!0},c.a.createElement(g.t,{md:"3"},c.a.createElement(g.L,{htmlFor:"text-input"},"If yes, are they friendly?")),c.a.createElement(g.t,{xs:"12",md:"9"},c.a.createElement(g.G,{type:"text",id:"text-input",name:"text-input",value:this.state.gooddogs,onChange:function(t){return e.setState({gooddogs:t.target.value})}}))))),c.a.createElement(g.l,null,c.a.createElement(g.e,{onClick:function(){return e.post()},type:"submit",size:"sm",color:"primary"},c.a.createElement("i",{className:"fa fa-dot-circle-o"})," Submit"))))))}}]),t}(i.Component));t.default=Object(p.a)(v)}}]);
//# sourceMappingURL=68.7ba42890.chunk.js.map