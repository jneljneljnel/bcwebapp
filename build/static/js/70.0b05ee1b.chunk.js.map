{"version":3,"sources":["views/Tables/Pending/_data.js","views/Tables/Pending/DataTable.js","views/Jobs/Pending.js"],"names":["_data","rows","DataTable","require","createBrowserHistory","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","table","data","goButton","bind","assertThisInitialized","state","options","sortIndicator","hideSizePerPage","paginationSize","hidePageListOnlyOnePage","clearSearch","alwaysShowAllBtns","withFirstAndLast","cell","row","_this2","react_default","a","createElement","reactstrap_es","color","onClick","history","push","id","style","whiteSpace","maxWidth","street","city","name","className","lib","version","striped","hover","pagination","search","dataFormat","isKey","dataField","dataSort","jobName","address","Component","withRouter","axios","MarkerWithInfoWindow","isOpen","toggle","setState","_this$props","location","icon","react_google_maps_lib","position","title","label","onCloseClick","jobId","hname","phone","href","www","target","MarkerList","locations","map","index","console","log","Pending_MarkerWithInfoWindow","key","toString","GoogleMapsComponent","withScriptjs","withGoogleMap","defaultZoom","defaultCenter","center","Pending_MarkerList","Pending","_this3","toggleFade","collapse","fadeIn","timeout","prevState","getDoneJobs","_this4","get","then","res","promises","j","image","inspector","concat","postal","result","results","length","lat","geometry","lng","homeownerName","draggable","siteNumber","Promise","all","xs","md","Pending_DataTable","googleMapURL","loadingElement","height","containerElement","mapElement"],"mappings":"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","file":"static/js/70.0b05ee1b.chunk.js","sourcesContent":["export default {\n  rows: [\n  ]\n};\n","import React, {Component} from 'react';\nimport {Card, CardHeader, CardBody, Button} from 'reactstrap';\nimport {BootstrapTable, TableHeaderColumn} from 'react-bootstrap-table';\nimport 'react-bootstrap-table/dist//react-bootstrap-table-all.min.css';\nimport data from './_data';\nimport { createBrowserHistory } from 'history';\nimport { Route , withRouter} from 'react-router-dom';\nconst axios = require('axios')\nconst history = createBrowserHistory();\n\n\nclass DataTable extends Component {\n  constructor(props) {\n    super(props);\n    this.table = data.rows;\n    this.goButton = this.goButton.bind(this)\n    this.state = {\n      data: []\n    }\n    this.options = {\n      sortIndicator: true,\n      hideSizePerPage: true,\n      paginationSize: 3,\n      hidePageListOnlyOnePage: true,\n      clearSearch: true,\n      alwaysShowAllBtns: false,\n      withFirstAndLast: false\n    }\n\n  }\n\n  goButton(cell, row){\n     return (<div><Button color=\"success\" onClick={() =>  this.props.history.push('/create/'+row.id)}>Open</Button></div>)\n  }\n\n  address(cell,row){\n       return (<div style={{whiteSpace: \"pre-wrap\", maxWidth: \"190px\"}}>{row.street +' '+ row.city}</div>)\n  }\n\n  jobName(cell, row){\n    return(<div style={{whiteSpace: \"pre-wrap\", maxWidth: \"190px\"}}>{row.name}</div>)\n  }\n\n\n\n  render() {\n\n    return (\n      <div className=\"animated\">\n        <Card>\n          <CardHeader>\n            <i className=\"icon-menu\"></i>{this.props.name}{' '}\n          </CardHeader>\n          <CardBody>\n            <BootstrapTable data={this.props.data || this.table} version=\"4\" striped hover pagination search options={this.options}>\n            <TableHeaderColumn dataFormat={this.goButton}></TableHeaderColumn>\n            <TableHeaderColumn isKey dataField=\"id\" dataSort>JobId</TableHeaderColumn>\n            <TableHeaderColumn dataField=\"name\" dataFormat={this.jobName}> Job Name</TableHeaderColumn>\n            <TableHeaderColumn dataField=\"client\"> Client Name</TableHeaderColumn>\n            <TableHeaderColumn dataField=\"cost\"> Cost</TableHeaderColumn>\n            <TableHeaderColumn dataField=\"recievedDate\" dataSort> Recieved Date</TableHeaderColumn>\n            <TableHeaderColumn dataFormat={this.address} dataSort>Address</TableHeaderColumn>\n            <TableHeaderColumn dataField=\"comments\" dataSort>Comments</TableHeaderColumn>\n            </BootstrapTable>\n          </CardBody>\n        </Card>\n      </div>\n    );\n  }\n}\n\nexport default  withRouter(DataTable);\n","import React, { Component } from 'react';\nimport {\n  Badge,\n  Button,\n  ButtonDropdown,\n  Card,\n  CardBody,\n  CardFooter,\n  CardHeader,\n  Col,\n  Collapse,\n  DropdownItem,\n  DropdownMenu,\n  DropdownToggle,\n  Fade,\n  Form,\n  FormGroup,\n  FormText,\n  FormFeedback,\n  Input,\n  InputGroup,\n  InputGroupAddon,\n  InputGroupText,\n  Label,\n  Row,\n  NavLink\n} from 'reactstrap';\nimport PendingJobs from '../Tables/Pending/DataTable';import {withScriptjs, withGoogleMap, GoogleMap, Marker, InfoWindow } from 'react-google-maps';\nconst defaultZoom = 11;\nconst defaultCenter = {lat: 37.431489, lng: -122.163719};\nconst locations = [\n  {\n    lat: 37.431489,\n    lng: -122.163719,\n    label: 'S',\n    draggable: false,\n    title: 'Stanford',\n    www: 'https://www.stanford.edu/'\n  },\n];\n\nconst axios = require('axios')\n\nclass MarkerWithInfoWindow extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpen: false\n    };\n    this.toggle = this.toggle.bind(this);\n  }\n\n  toggle() {\n    this.setState({\n      isOpen: !this.state.isOpen\n    });\n  }\n  render() {\n    const {location, icon} = this.props;\n\n    return (\n      <Marker onClick={this.toggle} icon={location.icon} position={location} title={location.title} label={location.label}>\n        {this.state.isOpen &&\n        <InfoWindow onCloseClick={this.toggle}>\n        <div>\n            <p>{location.title}</p>\n            <p>{location.jobId}</p>\n            <p>{location.hname}</p>\n            <p>{location.phone}</p>\n          <NavLink href={location.www} target=\"_blank\">\n            <p>{location.address}</p>\n          </NavLink>\n        </div>\n        </InfoWindow>}\n      </Marker>\n    )\n  }\n}\n\nclass MarkerList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    return this.props.locations.map((location, index) => {\n        console.log('l', location)\n        if(location && location.title){\n          return (\n            <MarkerWithInfoWindow key={index.toString()} location={location}/>\n          )\n        }\n      }\n    );\n  }\n}\n\n  const GoogleMapsComponent = withScriptjs(withGoogleMap((props) => {\n      return (\n        <GoogleMap defaultZoom={defaultZoom} defaultCenter={props.center}>\n          {<MarkerList locations={props.locations}/>}\n        </GoogleMap>\n      );\n    }\n  ));\n\nclass Pending extends Component {\n  constructor(props) {\n    super(props);\n\n    this.toggle = this.toggle.bind(this);\n    this.toggleFade = this.toggleFade.bind(this);\n    this.state = {\n      data: [],\n      collapse: true,\n      fadeIn: true,\n      timeout: 300,\n      locations:[]\n    };\n  }\n\n  toggle() {\n    this.setState({ collapse: !this.state.collapse });\n  }\n\n  toggleFade() {\n    this.setState((prevState) => { return { fadeIn: !prevState }});\n  }\n\n  componentDidMount(){\n    this.getDoneJobs()\n    console.log(this.state)\n  }\n  getDoneJobs(){\n    console.log('get pending')\n    axios.get('/api/jobs/pending').then( res => {\n      console.log(res.data)\n      this.setState({data:res.data})\n      let promises = [];\n      res.data.map( j => {\n        let label;\n        let image = ''\n        if(j.inspector == \"1\") {\n         //label = 'M'\n         image = 'http://maps.google.com/mapfiles/ms/icons/green.png';\n        }\n        if(j.inspector == \"2\") {\n         //label = 'J'\n         image = 'http://maps.google.com/mapfiles/ms/icons/red.png';\n        }\n        if(j.inspector == \"3\") {\n         //label = 'K'\n         image = 'http://maps.google.com/mapfiles/ms/icons/blue.png';\n        }\n        if(j.street){\n          promises.push(\n            axios.get(`https://maps.googleapis.com/maps/api/geocode/json?address=${j.street + ' ' + j.city +' '+ j.state + '' + j.postal}&key=AIzaSyA3FkbIxQAgVDWNej22DnBn6XzhHjoK5nc`)\n              .then(result => {\n                console.log('JAY',j)\n                if( result.data.results[0] && result.data.results.length){\n                  return {\n                        lat: result.data.results[0].geometry.location.lat,\n                        lng: result.data.results[0].geometry.location.lng,\n                        hname: j.homeownerName,\n                        label: label,\n                        jobId: j.id,\n                        draggable: false,\n                        title: j.name,\n                        icon:image,\n                        phone:j.siteNumber,\n                        address: j.street + ' ' + j.city\n                      }\n                }\n                else {\n                  console.log('dont push')\n                }\n              })\n            )\n        }\n      })\n      Promise.all(promises).then(res => {\n       this.setState({locations:res});\n      })\n    })\n  }\n\n  render() {\n    return (\n      <div className=\"animated fadeIn\">\n        <Row>\n          <Col xs=\"12\" md=\"12\">\n            <PendingJobs name='Pending Jobs' data={this.state.data}/>\n            <div className=\"animated fadeIn\">\n              <Card>\n                <CardHeader>\n                  <i className=\"icon-map\"></i> Google Maps\n                </CardHeader>\n                <CardBody>\n                {this.state.locations.length ?  <GoogleMapsComponent\n                    locations={this.state.locations}\n                    center={this.state.locations[0]}\n                    key=\"map\"\n                    googleMapURL=\"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyA3FkbIxQAgVDWNej22DnBn6XzhHjoK5nc\"\n                    loadingElement={<div style={{height: `100%`}}/>}\n                    containerElement={<div style={{height: `400px`}}/>}\n                    mapElement={<div style={{height: `100%`}}/>}\n                  />: null }\n                </CardBody>\n              </Card>\n            </div>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n}\n\nexport default Pending;\n"],"sourceRoot":""}